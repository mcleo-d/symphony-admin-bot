swagger: '2.0'
info:
  version: '0.0.1'
  title: Admin Bot
  description: |
produces:
  - application/json
tags:
  - Service
schemes:
  - http
  - https
basePath: '/adminbot'
paths:
  '/v1/sendPartnerWelcome':
    post:
      summary: Sends user welcome messages and emails.
      description:
          Creates the users in the pod, as defined within the sign up form.
          Sends welcome emails with username and temporary password.
          Sends directional welcome message to users, for when they login.
      parameters:
        - name: sessionToken
          in: header
          required: true
          type: string
        - name: keyManagerToken
          in: header
          required: true
          type: string
        - name: signUpForm
          in: body
          required: true
          schema:
            $ref: '#/definitions/PartnerSignUpForm'
      consumes:
        - application/json
      produces:
        - application/json
      responses:
        '200':
          description: OK
      tags:
        - SignUp
  '/v1/bootstrapPartner':
    post:
      summary: Bootstraps a partner.
      description:
          If not already created -
            Creates and registers bot cert, creates bot user.
            Creates and registers app cert, creates app.
          Sends partner bootstrap package within symphony.
      parameters:
        - name: sessionToken
          in: header
          required: true
          type: string
        - name: keyManagerToken
          in: header
          required: true
          type: string
        - name: partner
          in: body
          required: true
          schema:
            $ref: '#/definitions/Partner'
      consumes:
        - application/json
      produces:
        - application/json
      responses:
        '200':
          schema:
            $ref: '#/definitions/PartnerBootstrapInfo'
      tags:
        - SignUp

definitions:
  PartnerSignUpForm:
    type: object
    properties:
      creator:
        $ref: '#/definitions/Partner'
      team:
        type: array
        items:
          $ref: '#/definitions/Partner'
      appName:
        type: string
      appUrl:
        type: string
      appCompanyName:
        type: string
      appDomain:
        type: string
      appDescription:
        type: string
      botName:
        type: string
      botEmail:
        type: string
  Partner:
    type: object
    properties:
      firstName:
        type: string
      lastName:
        type: string
      email:
        type: string
  PartnerBootstrapInfo:
    type: object
    properties:
      botUsername:
        type: string
      botEmail:
        type: string
      appId:
        type: string
      appName:
        type: string